class Solution{
  private ListNode findkthnode(ListNode head, int k){
    while(head!=null&&--k>0){
       head=head.next;
    }
    return head;
  }
  private ListNode reverse(ListNode head){
        ListNode prev = null;
        ListNode curr = head;

        while(curr != null){
            ListNode next = curr.next;
            curr.next = prev;
            prev = curr;
            curr = next;
        }
        return prev;
    }
  public ListNode reverselinkedlistwithsizek(ListNode head,int k){
     ListNode curr=head;
    ListNode previous=null;
     while(curr!=null){
       ListNode kthnode=findkthnode(curr,k);
       if(kthnode==null){
         if(previous!=null) previous.next=curr;
         break;
       }
       ListNode nextnode=kthnode.next;
       kthnode.next=null;
       ListNode newhead=reverse(curr);
       if(curr==head) head=newhead;
       else{
         previous.next=newhead;
        }
         previous=curr;
         curr=nextnode;
      
     }
   return head;
  }
}
